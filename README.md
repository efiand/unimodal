# @efiand/modal [![npm version](https://img.shields.io/npm/v/@efiand/modal.svg)](https://www.npmjs.com/package/@efiand/modal)

Модальное окно с произвольной разметкой и стилизацией.


## Возможности

* Несколько произвольно расположенных открывающих и закрывающих элементов для каждого модального окна.
* Блокирование основной прокрутки с сохранением позиции экрана.
* Собственная прокрутка по правой стороне окна при переполнении контентной части.
* Закрытие по `Esc`.
* Запрет выхода фокуса за пределы содержимого модального окна.

## Установка

`npm i -DE @efiand/modal`


## Использование


### Разметка

Элементы разметки помечаются дата-атрибутами с одинаковым значением:

* `data-modal` - на узел модального окна.
* `data-modal-open` - на все узлы, открывающие это окно.
* `data-modal-close` - на все узлы, закрывающие это окно.


### Стили

Для выравнивания содержимого по вьюпорту рекомендуются следующие стили: [modal.css](https://efiand.github.io/modal/modal.css).

Если используются postcss-import и БЭМ-блок `modal`, можно импортировать часть переиспользуемых стилей модального окна:

```css
@import url("../node_modules/@efiand/modal/modal.css");
```


### Использование готового скрипта

```html
<script>
  window.MODAL_PREFIX = 'modal--'; // modal-- - значение по уполчанию
</script>
<script src="https://efiand.github.io/modal/modal.min.js"></script>
```

### Кастомное подключение модуля в систему сборки

```js
import Modal from '@efiand/modal';

for (const modalElement of document.querySelectorAll('[data-modal]')) {
  new Modal(modalElement, 'modal--'); // modal-- - значение по уполчанию
}
```

или:


```js
import { initModals } from '@efiand/modal';

initModals('modal--'); // modal-- - значение по уполчанию

```

Второй параметр конструктора - префикс имён классов-модификаторов:

* `*ready` - для стилизации модальных особенностей. Полезно для прогрессивного улучшения, когда до загрузки JS модальное окно в потоке.
* `*opened` - для стилизации состояния открытого окна.
